<!DOCTYPE html>
<html lang="id" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MONEV TUSDMA 2025 - Professional Link Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: {
                50: "#f0f9ff",
                500: "#3b82f6",
                600: "#2563eb",
                700: "#1d4ed8",
              },
              accent: {
                500: "#8b5cf6",
                600: "#7c3aed",
              },
            },
            animation: {
              "fade-in": "fadeIn 0.5s ease-in-out",
              "slide-up": "slideUp 0.3s ease-out",
              "bounce-in": "bounceIn 0.6s ease-out",
              glow: "glow 2s ease-in-out infinite alternate",
            },
            keyframes: {
              fadeIn: {
                "0%": { opacity: "0", transform: "translateY(10px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
              slideUp: {
                "0%": { opacity: "0", transform: "translateY(20px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
              bounceIn: {
                "0%": { opacity: "0", transform: "scale(0.3)" },
                "50%": { transform: "scale(1.05)" },
                "70%": { transform: "scale(0.9)" },
                "100%": { opacity: "1", transform: "scale(1)" },
              },
              glow: {
                "0%": { boxShadow: "0 0 20px rgba(59, 130, 246, 0.5)" },
                "100%": { boxShadow: "0 0 30px rgba(139, 92, 246, 0.8)" },
              },
            },
          },
        },
      };
    </script>
  </head>
  <body
    class="bg-gradient-to-br from-slate-900 via-gray-900 to-slate-800 min-h-screen text-white font-sans"
  >
    <!-- Animated Background -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
      <div class="absolute -inset-10 opacity-50">
        <div
          class="absolute top-1/4 left-1/4 w-72 h-72 bg-primary-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse"
        ></div>
        <div
          class="absolute top-1/3 right-1/4 w-96 h-96 bg-accent-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-1000"
        ></div>
        <div
          class="absolute bottom-1/4 left-1/3 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-500"
        ></div>
      </div>
    </div>

    <div class="relative z-10 container mx-auto px-4 py-8 max-w-7xl">
      <!-- Header -->
      <div
        class="bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-3xl p-8 mb-8 shadow-2xl animate-fade-in"
      >
        <div class="text-center mb-6">
          <div
            class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-primary-500 to-accent-500 rounded-2xl mb-4 animate-glow"
          >
            <i class="fas fa-link text-3xl text-white"></i>
          </div>
          <h1
            class="text-5xl font-black bg-gradient-to-r from-blue-400 via-purple-400 to-blue-600 bg-clip-text text-transparent mb-2"
          >
            ARSIP PROGRESS
          </h1>
          <p class="text-xl text-slate-300 font-light">
            MONITORING DAN EVALUASI TU SDMAO DJPT TAHUN 2025
          </p>
          <div
            class="w-24 h-1 bg-gradient-to-r from-primary-500 to-accent-500 mx-auto mt-4 rounded-full"
          ></div>
        </div>
      </div>

      <!-- Controls & Search -->
      <div
        class="flex flex-col lg:flex-row gap-6 items-center justify-center mb-8 animate-slide-up"
      >
        <!-- Search Bar -->
        <div class="relative flex-1 w-full lg:max-w-2xl">
          <input
            type="text"
            id="searchInput"
            placeholder="Cari link berdasarkan judul, deskripsi, atau URL..."
            class="w-full bg-slate-800/50 backdrop-blur-sm border border-slate-600/30 rounded-2xl px-6 py-4 pl-14 text-white placeholder-slate-400 focus:outline-none focus:border-primary-500/50 focus:bg-slate-800/70 transition-all duration-300"
          />
          <i
            class="fas fa-search absolute left-5 top-1/2 transform -translate-y-1/2 text-slate-400"
          ></i>
          <div
            class="absolute inset-0 bg-gradient-to-r from-primary-500/10 to-accent-500/10 rounded-2xl opacity-0 transition-opacity duration-300 pointer-events-none"
            id="searchGlow"
          ></div>
        </div>

        <!-- Action Buttons -->
        <div class="flex gap-3 shrink-0">
          <button
            onclick="openAddModal()"
            class="group relative overflow-hidden bg-gradient-to-r from-primary-500 to-primary-800 hover:from-primary-500 hover:to-primary-400 px-6 py-4 rounded-2xl font-semibold text-white transition-all duration-300 transform hover:scale-105 hover:shadow-2xl hover:shadow-primary-500/25"
          >
            <div
              class="absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"
            ></div>
            <div class="relative flex items-center gap-2">
              <i class="fas fa-plus text-lg"></i>
              <span class="hidden sm:inline">Tambah Link Baru</span>
              <span class="sm:hidden">Tambah</span>
            </div>
          </button>
        </div>
      </div>

      <!-- Links Container -->
      <div id="linksContainer" class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Links will be rendered here -->
      </div>
    </div>

    <!-- Modal -->
    <div
      id="linkModal"
      class="fixed inset-0 bg-black/60 backdrop-blur-sm hidden z-50 items-center justify-center p-4"
    >
      <div
        class="bg-slate-800/90 backdrop-blur-xl border border-slate-700/50 rounded-3xl w-full max-w-md shadow-2xl transform transition-all duration-300 animate-bounce-in"
      >
        <div
          class="flex items-center justify-between p-6 border-b border-slate-700/50"
        >
          <h3 id="modalTitle" class="text-2xl font-bold text-white">
            Tambah Link Baru
          </h3>
          <button
            onclick="closeModal()"
            class="w-10 h-10 bg-slate-700/50 hover:bg-slate-600/50 rounded-xl flex items-center justify-center text-slate-400 hover:text-white transition-all duration-200"
          >
            <i class="fas fa-times"></i>
          </button>
        </div>

        <form id="linkForm" class="p-6 space-y-6">
          <div class="space-y-2">
            <label class="block text-sm font-semibold text-slate-300"
              >Judul Link</label
            >
            <input
              type="text"
              id="linkTitle"
              required
              class="w-full bg-slate-700/50 border border-slate-600/30 rounded-xl px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:border-primary-500/50 focus:bg-slate-700/70 transition-all duration-300"
              placeholder="Masukkan judul link"
            />
          </div>

          <div class="space-y-2">
            <label class="block text-sm font-semibold text-slate-300"
              >URL</label
            >
            <input
              type="url"
              id="linkUrl"
              required
              class="w-full bg-slate-700/50 border border-slate-600/30 rounded-xl px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:border-primary-500/50 focus:bg-slate-700/70 transition-all duration-300"
              placeholder="https://example.com"
            />
          </div>

          <div class="space-y-2">
            <label class="block text-sm font-semibold text-slate-300"
              >Deskripsi</label
            >
            <textarea
              id="linkDescription"
              rows="3"
              class="w-full bg-slate-700/50 border border-slate-600/30 rounded-xl px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:border-primary-500/50 focus:bg-slate-700/70 transition-all duration-300 resize-none"
              placeholder="Deskripsi opsional untuk link ini..."
            ></textarea>
          </div>

          <div class="flex gap-3 pt-4">
            <button
              type="submit"
              class="flex-1 bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-500 hover:to-primary-400 px-6 py-3 rounded-xl font-semibold text-white transition-all duration-300 transform hover:scale-105"
            >
              <i class="fas fa-save mr-2"></i>
              Simpan
            </button>
            <button
              type="button"
              onclick="closeModal()"
              class="px-6 py-3 bg-slate-700/50 hover:bg-slate-600/50 border border-slate-600/30 rounded-xl font-medium text-slate-300 hover:text-white transition-all duration-300"
            >
              Batal
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Notification Container -->
    <div
      id="notificationContainer"
      class="fixed top-6 right-6 z-50 space-y-2"
    ></div>

    <script>
      let links = [];
      let currentEditId = null;
      let stats = { totalClicks: 0, todayAdded: 0 };

      // Initialize with sample data
      function initializeData() {
        const sampleLinks = [
          {
            id: 1,
            title: "Dashboard Monitoring TUSDMA",
            url: "https://dashboard.tusdma.gov.id",
            description:
              "Dashboard utama untuk monitoring sistem TUSDMA dengan real-time analytics dan reporting",
            clicks: 245,
            createdAt: new Date().toISOString(),
          },
          {
            id: 2,
            title: "Sistem Laporan Bulanan",
            url: "https://reports.tusdma.gov.id",
            description:
              "Platform pelaporan bulanan dan evaluasi kinerja dengan visualisasi data interaktif",
            clicks: 189,
            createdAt: new Date().toISOString(),
          },
          {
            id: 3,
            title: "Data Analytics Center",
            url: "https://analytics.tusdma.gov.id",
            description:
              "Pusat analisis data dan business intelligence untuk decision making",
            clicks: 312,
            createdAt: new Date().toISOString(),
          },
          {
            id: 4,
            title: "API Documentation",
            url: "https://api-docs.tusdma.gov.id",
            description:
              "Dokumentasi lengkap API TUSDMA untuk developer dan integrasi sistem",
            clicks: 98,
            createdAt: new Date().toISOString(),
          },
        ];

        if (links.length === 0) {
          links = sampleLinks;
          stats.todayAdded = 4;
          stats.totalClicks = sampleLinks.reduce(
            (sum, link) => sum + link.clicks,
            0
          );
        }

        renderLinks();
        updateStats();
      }

      function updateStats() {
        document.getElementById("totalLinks").textContent = links.length;
        document.getElementById("todayAdded").textContent = stats.todayAdded;
        document.getElementById("totalClicks").textContent = stats.totalClicks;
      }

      function renderLinks(filteredLinks = null) {
        const container = document.getElementById("linksContainer");
        const linksToRender = filteredLinks || links;

        if (linksToRender.length === 0) {
          container.innerHTML = `
                    <div class="col-span-full flex flex-col items-center justify-center py-20 text-center animate-fade-in">
                        <div class="w-24 h-24 bg-gradient-to-br from-slate-700 to-slate-800 rounded-2xl flex items-center justify-center mb-6">
                            <i class="fas fa-link text-4xl text-slate-500"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-slate-300 mb-2">Belum ada link</h3>
                        <p class="text-slate-400 mb-6 max-w-md">Mulai dengan menambahkan link pertama Anda menggunakan tombol di atas</p>
                        <button onclick="openAddModal()" class="bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-500 hover:to-primary-400 px-6 py-3 rounded-xl font-semibold text-white transition-all duration-300 transform hover:scale-105">
                            <i class="fas fa-plus mr-2"></i>
                            Tambah Link Pertama
                        </button>
                    </div>
                `;
          return;
        }

        container.innerHTML = linksToRender
          .map(
            (link, index) => `
                <div class="group bg-slate-800/40 backdrop-blur-sm border border-slate-700/30 rounded-2xl p-6 hover:border-primary-500/30 hover:bg-slate-800/60 transition-all duration-300 animate-fade-in" style="animation-delay: ${
                  index * 0.1
                }s">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex-1 min-w-0">
                            <h3 class="text-xl font-bold text-white mb-2 group-hover:text-primary-400 transition-colors line-clamp-2">
                                ${link.title}
                            </h3>
                            <p class="text-slate-400 text-sm leading-relaxed mb-4 line-clamp-3">
                                ${
                                  link.description ||
                                  "Tidak ada deskripsi tersedia"
                                }
                            </p>
                        </div>
                        <div class="flex gap-2 ml-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            <button onclick="editLink(${
                              link.id
                            })" class="w-10 h-10 bg-primary-500/20 hover:bg-primary-500/30 rounded-xl flex items-center justify-center text-primary-400 hover:text-primary-300 transition-all duration-200" title="Edit">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="deleteLink(${
                              link.id
                            })" class="w-10 h-10 bg-red-500/20 hover:bg-red-500/30 rounded-xl flex items-center justify-center text-red-400 hover:text-red-300 transition-all duration-200" title="Hapus">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="bg-slate-900/50 border border-slate-600/20 rounded-xl p-4 mb-4">
                        <div class="flex items-center gap-3">
                            <div class="flex-1 min-w-0">
                                <a href="${
                                  link.url
                                }" target="_blank" onclick="incrementClick(${
              link.id
            })" class="text-primary-400 hover:text-primary-300 font-medium text-sm break-all transition-colors duration-200">
                                    ${link.url}
                                </a>
                            </div>
                            <button onclick="copyToClipboard('${
                              link.url
                            }')" class="w-8 h-8 bg-slate-700/50 hover:bg-slate-600/50 rounded-lg flex items-center justify-center text-slate-400 hover:text-white transition-all duration-200" title="Copy URL">
                                <i class="fas fa-copy text-xs"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between text-xs text-slate-500">
                        <div class="flex items-center gap-4">
                            <span class="flex items-center gap-1">
                                <i class="fas fa-mouse-pointer"></i>
                                ${link.clicks || 0} klik
                            </span>
                            <span class="flex items-center gap-1">
                                <i class="fas fa-calendar"></i>
                                ${new Date(link.createdAt).toLocaleDateString(
                                  "id-ID"
                                )}
                            </span>
                        </div>
                        <div class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></div>
                    </div>
                </div>
            `
          )
          .join("");
      }

      function showNotification(message, type = "success") {
        const container = document.getElementById("notificationContainer");
        const notification = document.createElement("div");

        const colors = {
          success: "from-emerald-500 to-emerald-600",
          error: "from-red-500 to-red-600",
          info: "from-primary-500 to-primary-600",
        };

        notification.className = `bg-gradient-to-r ${colors[type]} text-white px-6 py-3 rounded-xl shadow-2xl transform transition-all duration-300 animate-slide-up`;
        notification.innerHTML = `
                <div class="flex items-center gap-3">
                    <i class="fas ${
                      type === "success"
                        ? "fa-check"
                        : type === "error"
                        ? "fa-exclamation-triangle"
                        : "fa-info"
                    } text-lg"></i>
                    <span class="font-medium">${message}</span>
                </div>
            `;

        container.appendChild(notification);

        setTimeout(() => {
          notification.style.transform = "translateX(100%)";
          notification.style.opacity = "0";
          setTimeout(() => notification.remove(), 300);
        }, 3000);
      }

      function openAddModal() {
        currentEditId = null;
        document.getElementById("modalTitle").textContent = "Tambah Link Baru";
        document.getElementById("linkForm").reset();
        document.getElementById("linkModal").classList.remove("hidden");
      }

      function editLink(id) {
        const link = links.find((l) => l.id === id);
        if (!link) return;

        currentEditId = id;
        document.getElementById("modalTitle").textContent = "Edit Link";
        document.getElementById("linkTitle").value = link.title;
        document.getElementById("linkUrl").value = link.url;
        document.getElementById("linkDescription").value =
          link.description || "";
        document.getElementById("linkModal").classList.remove("hidden");
      }

      function closeModal() {
        document.getElementById("linkModal").classList.add("hidden");
        currentEditId = null;
      }

      function deleteLink(id) {
        if (confirm("Apakah Anda yakin ingin menghapus link ini?")) {
          const linkIndex = links.findIndex((l) => l.id === id);
          if (linkIndex !== -1) {
            stats.totalClicks -= links[linkIndex].clicks || 0;
            links.splice(linkIndex, 1);
            renderLinks();
            updateStats();
            showNotification("Link berhasil dihapus!");
          }
        }
      }

      function incrementClick(id) {
        const link = links.find((l) => l.id === id);
        if (link) {
          link.clicks = (link.clicks || 0) + 1;
          stats.totalClicks++;
          updateStats();
        }
      }

      function copyToClipboard(text) {
        navigator.clipboard.writeText(text).then(() => {
          showNotification("URL berhasil disalin ke clipboard!");
        });
      }

      function exportLinks() {
        const dataStr = JSON.stringify({ links, stats }, null, 2);
        const dataBlob = new Blob([dataStr], { type: "application/json" });
        const url = URL.createObjectURL(dataBlob);
        const link = document.createElement("a");
        link.href = url;
        link.download = `MONEV_TUSDMA_2025_${
          new Date().toISOString().split("T")[0]
        }.json`;
        link.click();
        URL.revokeObjectURL(url);
        showNotification("Data berhasil diekspor!");
      }

      function importLinks() {
        const input = document.createElement("input");
        input.type = "file";
        input.accept = ".json";
        input.onchange = (e) => {
          const file = e.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = (e) => {
              try {
                const data = JSON.parse(e.target.result);
                if (data.links) {
                  links = data.links;
                  stats = data.stats || stats;
                  renderLinks();
                  updateStats();
                  showNotification("Data berhasil diimpor!");
                }
              } catch (error) {
                showNotification("File tidak valid!", "error");
              }
            };
            reader.readAsText(file);
          }
        };
        input.click();
      }

      // Event Listeners
      document.getElementById("linkForm").addEventListener("submit", (e) => {
        e.preventDefault();

        const title = document.getElementById("linkTitle").value;
        const url = document.getElementById("linkUrl").value;
        const description = document.getElementById("linkDescription").value;

        if (currentEditId) {
          const link = links.find((l) => l.id === currentEditId);
          if (link) {
            link.title = title;
            link.url = url;
            link.description = description;
            showNotification("Link berhasil diperbarui!");
          }
        } else {
          const newLink = {
            id: Date.now(),
            title,
            url,
            description,
            clicks: 0,
            createdAt: new Date().toISOString(),
          };
          links.unshift(newLink);
          stats.todayAdded++;
          showNotification("Link berhasil ditambahkan!");
        }

        renderLinks();
        updateStats();
        closeModal();
      });

      document.getElementById("searchInput").addEventListener("input", (e) => {
        const searchTerm = e.target.value.toLowerCase();
        const searchGlow = document.getElementById("searchGlow");

        if (searchTerm) {
          searchGlow.style.opacity = "1";
        } else {
          searchGlow.style.opacity = "0";
        }

        if (!searchTerm) {
          renderLinks();
          return;
        }

        const filteredLinks = links.filter(
          (link) =>
            link.title.toLowerCase().includes(searchTerm) ||
            link.description.toLowerCase().includes(searchTerm) ||
            link.url.toLowerCase().includes(searchTerm)
        );
        renderLinks(filteredLinks);
      });

      // Close modal when clicking outside
      document.getElementById("linkModal").addEventListener("click", (e) => {
        if (e.target === e.currentTarget) {
          closeModal();
        }
      });

      // Initialize
      initializeData();
    </script>
  </body>
</html>
